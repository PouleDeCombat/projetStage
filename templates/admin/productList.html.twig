{% extends 'adminBase.html.twig' %}

{% block title %}Liste des produits{% endblock %}

{% block stylesheets %}
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
{% endblock %}

{% block body %}
<div class="container-fluid mt-5">
    <h1>Liste des produits</h1>
    <table id="adherentTableau" class="table">
        <thead class="thead-dark">
            <tr>
                <th>Nom</th>
                <th>Description</th>
                <th>Prix</th>
                <th>Stock</th>
                
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for product in products %}
            <tr>
                <td class="fw-bold">{{ product.name }}</td>
                <td>{{ product.description }}</td>
                <td>{{ product.price }}€</td>
                <td>{{ product.stock }}</td>
                
                 <td>
                    <a href="{{ path('app_product_edit', {'id': product.id}) }}" class="btn btn-warning btn-sm">Modifier</a> 
                    <a href="{{ path('app_product_delete', {'id': product.id}) }}" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce produit?');" class="btn btn-danger btn-sm">Supprimer</a> 
                </td> 
            </tr>
        {% else %}
            <tr>
                <td colspan="6" class="text-center">Aucun produit trouvé</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_create_product') }}" class="btn btn-secondary">Ajouter un nouveau produit</a>
</div>
{% endblock %}

